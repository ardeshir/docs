# DOL v0.7.2 Release Notes

**Release Date:** January 2025
**Codename:** Visibility & GDL

---

## Overview

DOL v0.7.2 introduces the visibility system for access control, standardizes the `this` keyword, and adds Geometric Deep Learning (GDL) domain genes.

---

## New Features

### Visibility System

DOL now supports fine-grained access control:

```dol
gen Account {
    pub has id: u64           // Public - accessible everywhere
    pub(spirit) has email: String  // Spirit-scoped - same package
    pub(parent) has secret: String // Parent-scoped - parent module only
    has internal: i32         // Private (default)
}
```

**Visibility levels:**
- `pub` - Fully public
- `pub(spirit)` - Visible within the same spirit/package
- `pub(parent)` - Visible to parent module
- (none) - Private to declaring module

### `this` Keyword Standardization

The `this` keyword is now the standard way to reference the current instance:

```dol
gen Counter {
    has value: i32

    fun increment() -> i32 {
        this.value = this.value + 1
        this.value
    }
}
```

- Parser support for `Expr::This` AST variant
- WASM compiler handles `this` references correctly

### Geometric Deep Learning (GDL) Domain

New domain genes for geometric deep learning applications:

```dol
// Symmetry groups with verified group laws
gen SymmetryGroup {
    has dimension: u32
    has operation: GroupOperation
}

// Graph structures with permutation support
gen Graph {
    has nodes: Vec<Node>
    has edges: Vec<Edge>

    fun permute_nodes(perm: Permutation) -> Graph
}

// Equivariant layer traits
trait MessagePassing {
    fun aggregate(messages: Vec<Message>) -> Embedding
    fun update(node: Node, aggregated: Embedding) -> Embedding
}
```

**GDL Features:**
- Symmetry group genes with verified group laws
- Graph gene with `permute_nodes` operation
- Property-based tests for mathematical invariants
- Message passing trait for GNNs
- Comprehensive layer documentation

---

## Improvements

### Test Coverage

- Comprehensive WASM coverage tests
- Property-based tests for GDL modules
- Module and spirits system test suite

---

## PRs Merged

- #11 - feature/gdl_init: GDL domain genes with property-based tests
- #12 - feature/Gpillar: Symmetry group genes
- #13 - feature/equnnlayers: Equivariant layer traits
- #14 - hotfix/this: `this` keyword in parser and WASM compiler
- #15 - feature/equnnlayers: Layer documentation
- #16 - feature/visibility-system: Visibility modifiers

---

## Installation

```bash
# From crates.io
cargo install metadol --version 0.7.2

# From source
git checkout v0.7.2
cargo build --release
```

---

## Links

- [GitHub Release](https://github.com/univrs/dol/releases/tag/v0.7.2)
- [GDL Documentation](https://learn.univrs.io/dol/gdl)
- [Visibility System Guide](https://learn.univrs.io/dol/visibility)
