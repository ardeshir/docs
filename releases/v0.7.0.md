# DOL v0.7.0 Release Notes

**Release Date:** January 2025
**Codename:** VUDO Integration

---

## Overview

DOL v0.7.0 is a major release that integrates the VUDO runtime, implements the SEX (Side Effect eXecution) system infrastructure, and adds the vudo CLI for spirit management.

---

## New Features

### VUDO CLI

New command-line interface for VUDO spirit development:

```bash
# Run a DOL spirit
vudo run example.dol

# Compile to WASM
vudo compile example.dol -o example.wasm

# Type-check DOL files
vudo check src/
```

### @vudo/runtime TypeScript Package

A complete TypeScript runtime for executing DOL spirits in Node.js and browser environments:

```typescript
import { Spirit, Runtime } from '@vudo/runtime';

const spirit = await Spirit.load('./example.wasm');
const runtime = new Runtime();
const result = await runtime.execute(spirit);
```

### SEX System Infrastructure

Week 1 implementation of the Side Effect eXecution system:

- Effect tracking annotations
- Effect inference in the type checker
- SEX blocks for controlled side effects

```dol
sex fun write_file(path: String, content: String) -> Result<Void, Error> {
    // Side effects are tracked
    fs.write(path, content)
}
```

### String Literals in WASM

Week 2 milestone - string literals now compile correctly to WASM:

```dol
gen Greeting {
    has message: String = "Hello, World!"
}
```

---

## Improvements

### WASM Backend Fixes

- Fixed duplicate global section issue
- Fixed enum type comparison bugs
- Added missing `WasmImport` struct and `LocalsTable` fields
- Added `SexVar` declaration variant

### Documentation

- Added `echo.dol` example with testing documentation
- Added CAUTION banner and Disclaimer section to README
- Created SUPPORT.md for support guidance

---

## Breaking Changes

None. This release maintains backward compatibility with v0.6.x.

---

## Installation

```bash
# From crates.io
cargo install metadol --version 0.7.0

# With CLI tools
cargo install metadol --version 0.7.0 --features cli

# VUDO runtime (npm)
npm install @vudo/runtime
```

---

## PRs Merged

- #4 - feature/wasm-tests: CI WASM test job
- #5 - feature/vudo-runtime: TypeScript runtime package
- #6 - feature/cli-integration: Vertical slice validation
- #7 - feature/cli-integration: VUDO CLI commands
- #8 - feature/sex-system: SEX system infrastructure
- #9 - feature/wasm-fix: WASM backend bug fixes

---

## Links

- [GitHub Release](https://github.com/univrs/dol/releases/tag/v0.7.0)
- [Documentation](https://learn.univrs.io/dol)
- [VUDO Runtime Package](https://www.npmjs.com/package/@vudo/runtime)
